import{av as E,a,c as y,aw as P,ax as x,r as i,h as p,i as A,E as L,M as T,g as _,as as B}from"./index.59598f67.js";function O(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),E.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const D={dark:{type:Boolean,default:null}};function I(e,t){return a(()=>e.dark===null?t.dark.isActive:e.dark)}const S={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},M=Object.keys(S);S.all=!0;function U(e){const t={};for(const s of M)e[s]===!0&&(t[s]=!0);return Object.keys(t).length===0?S:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}function $(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&e.target.nodeName.toUpperCase()!=="INPUT"&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}var z=y({name:"QItem",props:{...D,...P,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:s}){const{proxy:{$q:c}}=_(),m=I(e,c),{hasLink:r,linkAttrs:b,linkClass:k,linkTag:h,navigateOnClick:q}=x(),v=i(null),f=i(null),n=a(()=>e.clickable===!0||r.value===!0||e.tag==="label"),l=a(()=>e.disable!==!0&&n.value===!0),g=a(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(m.value===!0?" q-item--dark":"")+(r.value===!0&&e.active===null?k.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(l.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),C=a(()=>{if(e.insetLevel===void 0)return null;const u=c.lang.rtl===!0?"Right":"Left";return{["padding"+u]:16+e.insetLevel*56+"px"}});function R(u){l.value===!0&&(f.value!==null&&(u.qKeyEvent!==!0&&document.activeElement===v.value?f.value.focus():document.activeElement===f.value&&v.value.focus()),q(u))}function d(u){if(l.value===!0&&A(u,13)===!0){L(u),u.qKeyEvent=!0;const w=new MouseEvent("click",u);w.qKeyEvent=!0,v.value.dispatchEvent(w)}s("keyup",u)}function o(){const u=T(t.default,[]);return l.value===!0&&u.unshift(p("div",{class:"q-focus-helper",tabindex:-1,ref:f})),u}return()=>{const u={ref:v,class:g.value,style:C.value,role:"listitem",onClick:R,onKeyup:d};return l.value===!0?(u.tabindex=e.tabindex||"0",Object.assign(u,b.value)):n.value===!0&&(u["aria-disabled"]="true"),p(h.value,u,o())}}});const N=B("data",()=>{const e=i([]),t=i(),s=i(),c=i(),m=a(()=>e.value),r=a(()=>t.value),b=a(()=>c.value),k=n=>{e.value=n},h=n=>{var l;c.value=n[(l=r.value)==null?void 0:l.region],s.value=n},q=()=>{var n;c.value=s.value[(n=r.value)==null?void 0:n.region]},v=n=>{t.value=n},f=a(()=>{var l;let n="\u0420\u0435\u0433\u0438\u043E\u043D";for(const g of e.value)(g==null?void 0:g.new_code)===((l=t.value)==null?void 0:l.region)&&(n=g.desc.slice(0,11)+"...");return n});return{getRegions:m,getProducts:b,getUser:r,getRegionText:f,initRegions:k,initProducts:h,initUser:v,changeProducts:q}}),j=B("main",()=>{const e=i("catalog"),t=i("\u041A\u0430\u0442\u0430\u043B\u043E\u0433"),s=i(),c=i(),m=i({state:!1,region:{new_code:""}}),r=i(!1),b=d=>s.value=d,k=d=>c.value=d,h=()=>r.value=!r.value,q=(d,o)=>m.value={state:o,region:d},v=(d,o)=>{o&&b(o),e.value=d,e.value==="catalog"?t.value="\u041A\u0430\u0442\u0430\u043B\u043E\u0433":t.value=`${o==null?void 0:o.range[0]}-${o==null?void 0:o.range[1]} \u0431\u0430\u043B\u043B\u043E\u0432`},f=a(()=>e.value),n=a(()=>m.value),l=a(()=>t.value),g=a(()=>s.value),C=a(()=>c.value),R=a(()=>r.value);return{getTemplate:f,getTemplateText:l,getSelectProduct:g,getSelectItem:C,getProductMenu:R,getChangeRegion:n,changeTemplate:v,selectProduct:b,selectItem:k,changeStateMenu:h,changeStateChangeRegion:q}});export{z as Q,I as a,N as b,O as c,j as d,U as g,$ as s,D as u};
